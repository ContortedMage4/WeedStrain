<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Weed Strain Guide</title>
<style>
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #1e1e1e;
    color: #ccc;
    padding: 20px;
}

h1 {
    color: #7CFC00;
    text-align: center;
    margin-bottom: 30px;
    text-shadow: 0 0 10px #7CFC00;
}

/* --- Card grid --- */
.card-grid {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    justify-content: center;
}

.card {
    background-color: #2a2a2a;
    border-radius: 12px;
    padding: 15px;
    width: 150px;
    text-align: center;
    cursor: pointer;
    font-weight: bold;
    color: #7CFC00;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
    transition: transform 0.2s, box-shadow 0.3s;
}

.card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(0,255,0,0.4);
}

.card.active {
    background-color: #3a3a3a;
    border: 2px solid #7CFC00;
}

/* --- Info panel --- */
.info-panel {
    margin-top: 30px;
    background-color: #252525;
    border-radius: 12px;
    padding: 20px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    box-shadow: 0 4px 12px rgba(0,255,0,0.2);
}

.info-panel h2 {
    color: #7CFC00;
    margin-bottom: 15px;
    text-align: center;
}

.info-panel table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
}

.info-panel th, .info-panel td {
    border: 1px solid #3c3c3c;
    padding: 8px;
    text-align: left;
}

.info-panel th {
    background-color: #333;
    color: #7CFC00;
}

.info-panel td {
    background-color: #2a2a2a;
}

.info-panel tr:nth-child(even) td {
    background-color: #2c2c2c;
}

.info-panel label {
    color: #7CFC00;
    font-weight: bold;
    display: inline-block;
    margin-bottom: 8px;
}

.info-panel input[type="number"] {
    width: 70px;
    padding: 6px;
    border-radius: 8px;
    border: 1px solid #3c3c3c;
    background-color: #1e1e1e;
    color: #ccc;
    font-weight: bold;
    margin-left: 10px;
}

.total {
    font-weight: bold;
    color: #7CFC00;
    margin-top: 10px;
}
</style>
</head>
<body>

<h1>Weed Strain Guide</h1>
<div class="card-grid" id="cardGrid"></div>
<div class="info-panel" id="infoPanel" style="display:none;">
    <h2 id="strainName">Strain Name</h2>
    <table id="parentTable">
        <tr><th>Seed Type</th><th>Amount per Batch</th></tr>
    </table>
    <label>Sequence: <span id="sequence"></span>
        <input type="checkbox" id="overlayCheckbox" style="margin-left:10px;">
    </label>
    <label>Number of batches: 
        <input type="number" id="batchInput" value="1" min="1">
    </label>
    <div class="total" id="totalSeeds"></div>
</div>

<script>
const strains = [
    {name:"Grape Ape", parents:[{type:"Lemon Haze", amount:1},{type:"Northern Lights", amount:2}], sequence:"c3, d1, b2, a4"},
    {name:"Green Crack", parents:[{type:"Northern Lights", amount:1},{type:"Northern Lights", amount:2}], sequence:"B2, A3, C1, D4"},
    {name:"Purple Kush", parents:[{type:"Blue Dream", amount:1},{type:"Lemon Haze", amount:2}], sequence:"D1, C2, A4, B3"},
    {name:"Blueberry Kush", parents:[{type:"Northern Lights", amount:1},{type:"Blue Dream", amount:2}], sequence:"A1, B4, D2, C3"},
    {name:"Pineapple Express", parents:[{type:"Blueberry Kush", amount:1},{type:"Purple Kush", amount:2}], sequence:"D4, B3, A1, C2"},
    {name:"Ocean Grow OG", parents:[{type:"Purple Kush", amount:1},{type:"Grape Ape", amount:2}], sequence:"B4, D2, C1, A3"},
    {name:"Strawberry Cough", parents:[{type:"Green Crack", amount:1},{type:"Blueberry Kush", amount:2}], sequence:"A2, C4, B1, D3"},
    {name:"Pink Kush", parents:[{type:"Strawberry Cough", amount:1},{type:"Pineapple Express", amount:2}], sequence:"C2, A4, D1, B3"},
    {name:"Cherry Pie", parents:[{type:"Pineapple Express", amount:1},{type:"Ocean Grow OG", amount:2}], sequence:"A3, B1, D4, C2"}
];
let overlayWindow = null;
function openOverlay(name, sequence){
    if(!overlayWindow || overlayWindow.closed){
        overlayWindow = window.open('','overlay','width=320,height=120,top=10,left=10,resizable=no,scrollbars=no');
        overlayWindow.document.body.style.margin='0';
        overlayWindow.document.body.style.padding='10px';
        overlayWindow.document.body.style.background='rgba(20,20,20,0.9)';
        overlayWindow.document.body.style.color='#7CFC00';
        overlayWindow.document.body.style.fontFamily='Segoe UI, Arial';
        overlayWindow.document.body.style.fontSize='16px';
        overlayWindow.document.body.style.display='flex';
        overlayWindow.document.body.style.justifyContent='center';
        overlayWindow.document.body.style.alignItems='center';
        overlayWindow.document.body.style.textAlign='center';
        overlayWindow.document.body.style.border='1px solid #7CFC00';
        overlayWindow.document.body.style.borderRadius='8px';
    }
    overlayWindow.document.body.innerHTML=`<div><strong>${name}</strong><br>Sequence: ${sequence}</div>`;
}
function closeOverlay(){if(overlayWindow && !overlayWindow.closed){overlayWindow.close();}}

// --- Build cards ---
const cardGrid = document.getElementById("cardGrid");
const infoPanel = document.getElementById("infoPanel");
const strainName = document.getElementById("strainName");
const parentTable = document.getElementById("parentTable");
const sequenceSpan = document.getElementById("sequence");
const batchInput = document.getElementById("batchInput");
const totalSeeds = document.getElementById("totalSeeds");
const overlayCheckbox = document.getElementById("overlayCheckbox");

let activeCard = null;

strains.forEach((strain,index)=>{
    const card = document.createElement("div");
    card.className = "card";
    card.textContent = strain.name;
    card.onclick = ()=>{
        // Highlight active card
        if(activeCard) activeCard.classList.remove("active");
        card.classList.add("active");
        activeCard = card;

        // Show info panel
        infoPanel.style.display = "block";
        strainName.textContent = strain.name;

        // Build parent table
        parentTable.innerHTML="<tr><th>Seed Type</th><th>Amount per Batch</th></tr>";
        strain.parents.forEach(p=>{
            const row=document.createElement("tr");
            row.innerHTML=`<td>${p.type}</td><td>${p.amount}</td>`;
            parentTable.appendChild(row);
        });

        // Sequence
        sequenceSpan.textContent = strain.sequence;
        overlayCheckbox.checked=false;
        closeOverlay();

        // Batch input
        batchInput.value=1;
        const updateTotal=()=>{
            const batches=parseInt(batchInput.value)||1;
            totalSeeds.innerHTML="";
            strain.parents.forEach(p=>{
                totalSeeds.innerHTML+=`${p.amount*batches} x ${p.type}<br>`;
            });
        };
        batchInput.oninput=updateTotal;
        updateTotal();
    };
    cardGrid.appendChild(card);
});

// Overlay checkbox
overlayCheckbox.onchange=()=>{
    if(activeCard){
        const selectedStrain = strains.find(s=>s.name===strainName.textContent);
        overlayCheckbox.checked?openOverlay(selectedStrain.name, selectedStrain.sequence):closeOverlay();
    }
};
</script>

</body>
</html>
